import React, { useState, useEffect, useRef, useMemo } from 'react';
import { Link } from 'react-router-dom';
import './HomeView.css';

const HomeView = () => {
    // State for Image Gallery
    const [currentImageIndex, setCurrentImageIndex] = useState(0);
    const [touchStartX, setTouchStartX] = useState(0);
    const [touchEndX, setTouchEndX] = useState(0);

    // State for Testimonials
    const [currentIndex, setCurrentIndex] = useState(0);

    // State for Chatbot
    const [chatLog, setChatLog] = useState([]);
    const [userMessage, setUserMessage] = useState("");
    const [sessionId, setSessionId] = useState(null);
    const [loading, setLoading] = useState(false);
    const chatContainerRef = useRef(null);

    // Static Data
    const galleryImages = [
        { src: '/1.webp', alt: 'College Event', description: 'Annual cultural festival celebrating diverse talents' },
        { src: '/cse-girls-closeup.webp', alt: 'Students in Lab', description: 'Students collaborating on innovative projects' },
        { src: '/4.webp', alt: 'Campus View', description: 'Our beautiful campus surrounded by greenery' },
        { src: '/computer-lab.webp', alt: 'Computer Lab', description: 'State-of-the-art computer lab with latest equipment' },
        { src: '/Drone_shot.jpg', alt: 'Aerial View', description: 'Aerial view of our sprawling campus facilities' },
    ];

    const news = [
        { name: "On Going Placement Drives and Drives Completed - 2025 Batch", url: "http://aurcc.ac.in/loginpage/loginpage/uploads/Placed%202025.jpg" },
        { name: "Engagement for Project Assistant(Pr.A1) CMRG project at Department of Mechanical Engineering - AURCC", url: "http://aurcc.ac.in/loginpage/loginpage/uploads/388.pdf" },
        { name: "Access to Anna University E-Resource Consortium", url: "http://aurcc.ac.in/loginpage/loginpage/uploads/382.pdf" },
        { name: "Fees for UG / PG Students - 2024 - 2025", url: "http://aurcc.ac.in/loginpage/loginpage/uploads/352.pdf" },
        { name: "UG / PG Hostel Fee Structure for New Admission - 2024 - 2025", url: "http://aurcc.ac.in/loginpage/loginpage/uploads/355.pdf" },
        { name: "SCOUT(Scholarship for Outstanding Undergraduate talent) Winners in Naan Mudhalvan Scheme", url: "http://aurcc.ac.in/loginpage/loginpage/uploads/374.jpeg" },
        { name: "QS WORLD UNIVERSITY RANKINGS - 2025 - ANNA UNIVERSITY 383rd RANK", url: "http://aurcc.ac.in/loginpage/loginpage/uploads/375.jpg" },
        { name: "Placement Statistics - 2020 Batch Students", url: "http://aurcc.ac.in/loginpage/loginpage/uploads/373.pdf" },
        { name: "Placed Students (Batch - 2020 - 2024 )", url: "http://aurcc.ac.in/loginpage/loginpage/uploads/Placed.jpeg" },
        { name: "JRF Application Form for MeitY Project", url: "http://aurcc.ac.in/loginpage/loginpage/uploads/370.pdf" },
    ];

    const events = [
        { name: "FORSCH 25 - National Level TECHNO CULTURAL FEST by Dept. of Mechanical Engineering", url: "https://forsch25.com/" },
        { name: "International Womens Day Celebrations at AURCC", url: "http://aurcc.ac.in/loginpage/loginpage/uploads/387.pdf" },
        { name: "SC - ST Fresh Scholarship form - 2024-2025", url: "http://aurcc.ac.in/loginpage/loginpage/uploads/364.pdf" },
        { name: "SC - ST Renewal Scholarship form - 2024-2025", url: "http://aurcc.ac.in/loginpage/loginpage/uploads/365.pdf" },
        { name: "BC - MBC Fresh Scholarship form - 2024-2025", url: "http://aurcc.ac.in/loginpage/loginpage/uploads/362.pdf" },
        { name: "BC - MBC Renewal Scholarship form - 2024-2025", url: "http://aurcc.ac.in/loginpage/loginpage/uploads/363.pdf" },
        { name: "SC-ST Special Higher Education Scholarship 2022-23 (Hostelers)-UG", url: "http://aurcc.ac.in/loginpage/loginpage/uploads/347.pdf" },
        { name: "AICTE â€“ SWANATH SCHOLARSHIP SCHEME FOR STUDENTS â€“ 2021-22", url: "http://aurcc.ac.in/loginpage/loginpage/uploads/312.pdf" },
        { name: "AICTE â€“ PRAGATI SCHOLARSHIP SCHEME FOR GIRL STUDENTS - Degree - 2020-21", url: "http://aurcc.ac.in/loginpage/loginpage/uploads/313.pdf" },
        { name: "AICTE â€“ SAKSHAM SCHOLARSHIP SCHEME FOR SPECIALLY-ABLED STUDENT (DEGREE) - 2020-21", url: "http://aurcc.ac.in/loginpage/loginpage/uploads/314.pdf" },
        { name: "List of the Selected Students under AICTE-Pragati Scholarship Scheme(Degree) - 2020-21", url: "http://aurcc.ac.in/loginpage/loginpage/uploads/315.pdf" },
        { name: "Scholarship - List of Beneficiaries", url: "http://aurcc.ac.in/loginpage/loginpage/uploads/249.pdf" },
    ];

    const testimonials = [
        {
            name: 'Adithya M',
            branch: 'EEE',
            batch: '2015 Batch',
            company: 'SIEMENS',
            message: 'I am truly proud to have graduated from Anna University. The exceptional opportunities provided here enabled me to excel in every aspect, leading to my employment at Siemens, Bangalore.',
            image: "/pic1.webp",
        },
        {
            name: 'Pathi R',
            branch: 'CSE',
            batch: '2016 Batch',
            company: 'Google',
            message: 'My journey at Anna University was transformative. The rigorous curriculum and supportive faculty prepared me well for the challenges in the tech industry.',
            image: "/1.webp",
        },
        {
            name: 'Priya S',
            branch: 'Mechanical',
            batch: '2017 Batch',
            company: 'Tesla',
            message: 'The hands-on experience and industry exposure at Anna University were invaluable. It gave me the confidence to pursue my dreams and land a job at Tesla.',
            image: "/4.webp",
        },
    ];

    // Logic for Testimonials
    const nextSlide = () => {
        setCurrentIndex((prev) => (prev === testimonials.length - 1 ? 0 : prev + 1));
    };
    const prevSlide = () => {
        setCurrentIndex((prev) => (prev === 0 ? testimonials.length - 1 : prev - 1));
    };
    const goToSlide = (index) => {
        setCurrentIndex(index);
    };

    // Logic for Image Gallery
    const nextImage = () => {
        setCurrentImageIndex((prev) => (prev + 1) % galleryImages.length);
    };
    const prevImage = () => {
        setCurrentImageIndex((prev) => (prev - 1 + galleryImages.length) % galleryImages.length);
    };
    const goToImage = (index) => {
        setCurrentImageIndex(index);
    };

    const handleTouchStart = (e) => {
        setTouchStartX(e.changedTouches[0].screenX);
    };
    const handleTouchEnd = (e) => {
        const endX = e.changedTouches[0].screenX;
        setTouchEndX(endX);
        if (touchStartX - endX > 50) {
            nextImage();
        } else if (endX - touchStartX > 50) {
            prevImage();
        }
    };

    // Chatbot Logic
    const generateSessionId = () => {
        return "session-" + Math.random().toString(36).substr(2, 9);
    };

    useEffect(() => {
        setSessionId(generateSessionId());
    }, []);

    const scrollToBottom = () => {
        if (chatContainerRef.current) {
            chatContainerRef.current.scrollTop = chatContainerRef.current.scrollHeight;
        }
    };

    useEffect(() => {
        scrollToBottom();
    }, [chatLog]);

    const sendMessage = async () => {
        if (userMessage.trim() === "") return;

        setLoading(true);
        const userInput = userMessage;
        setChatLog((prev) => [...prev, { sender: "user", message: userInput }]);
        setUserMessage("");

        try {
            const response = await fetch("https://aurcc.onrender.com/chat", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    message: userInput,
                    session_id: sessionId,
                }),
            });

            if (!response.ok) throw new Error(`Server error: ${response.status}`);
            const data = await response.json();
            setChatLog((prev) => [...prev, { sender: "bot", message: data.response }]);
        } catch (error) {
            console.error("Error communicating with chatbot:", error);
            setChatLog((prev) => [...prev, { sender: "bot", message: "An error occurred. Please try again later." }]);
        } finally {
            setLoading(false);
        }
    };

    return (
        <div className="">
            <main className="">
                {/* Hero Section */}
                <section className="relative h-screen flex items-center justify-center overflow-hidden">
                    <div className="absolute inset-0 ">
                        <video
                            src="/Droneshot1.mp4"   // place your mp4 file in public folder
                            autoPlay
                            loop
                            muted
                            playsInline
                            className="h-full w-full object-cover scale-110 transform animate-subtle-zoom"
                        />
                        <div className="absolute inset-0 opacity-35 bg-slate-950"></div>
                    </div>
                    <div className="absolute inset-0 overflow-hidden pointer-events-none opacity-5 mix-blend-overlay">
                        <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
                            <pattern id="circuit-pattern" width="200" height="200" patternUnits="userSpaceOnUse">
                                <path d="M50 0 L50 50 L100 50 M150 0 L150 50 L100 50 M100 50 L100 100 M0 100 L50 100 M50 100 L50 150 L100 150 M150 150 L200 150 M150 100 L150 200" fill="none" stroke="white" strokeWidth="1.5" />
                                <circle cx="50" cy="50" r="5" fill="white" />
                                <circle cx="150" cy="50" r="5" fill="white" />
                                <circle cx="100" cy="100" r="5" fill="white" />
                                <circle cx="50" cy="150" r="5" fill="white" />
                                <circle cx="150" cy="150" r="5" fill="white" />
                            </pattern>
                            <rect width="100%" height="100%" fill="url(#circuit-pattern)" />
                        </svg>
                    </div>
                    <div className="relative text-center px-4 sm:px-6 max-w-5xl mx-auto z-20">
                        <h1 className="text-3xl sm:text-4xl md:text-6xl lg:text-7xl font-bold text-white mb-4 sm:mb-6 tracking-tight">
                            <span className="block">Welcome to</span>
                            <span className="block text-transparent bg-clip-text text-white mt-2">
                                Anna University
                            </span>
                        </h1>
                        {/* <p className="text-lg sm:text-xl md:text-2xl text-blue-600 px-2">
                            Shaping Tomorrow's Leaders Today
                        </p> */}
                        <div className="mt-8 sm:mt-10 flex flex-col sm:flex-row justify-center gap-3 sm:gap-4 px-4">
                            <a href="#programs" className="inline-block px-6 sm:px-8 py-3 sm:py-4 bg-white text-blue-900 rounded-full font-semibold transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl text-sm sm:text-base">
                                Explore Programs
                            </a>
                            <a href="#about" className="inline-block px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-[rgb(115,63,63)] to-[rgb(115,25,25)] text-white rounded-full font-semibold transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl text-sm sm:text-base">
                                Campus Tour
                            </a>
                        </div>
                    </div>
                </section>

                {/* Floating Stats Cards */}
                <section className="container mx-auto px-4 sm:px-6 lg:px-8 relative mt-16 sm:mt-20 md:mt-24 lg:mt-32 z-30 mb-12 sm:mb-16 lg:mb-20">
                    <div className="grid grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6">
                        {[
                            { label: 'Global Alumni', value: '5,000+', icon: <path d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" /> },
                            { label: 'Rank in TNEA', value: '7th', icon: <path d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" /> },
                            { label: 'Of Excellence', value: '20+ Years', icon: <path d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" /> },
                            { label: 'Placement Record', value: '100%', icon: <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /> }
                        ].map((stat, idx) => (
                            <div key={idx} className="bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-6 sm:p-8 text-center transform transition-all duration-300 hover:scale-105 hover:shadow-2xl min-h-[200px] flex flex-col justify-center items-center">
                                <div className="text-blue-600 mb-4 sm:mb-6">
                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-8 w-8 sm:h-10 sm:w-10 lg:h-12 lg:w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        {stat.icon}
                                    </svg>
                                </div>
                                <div className="text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-800 mb-2 sm:mb-3">{stat.value}</div>
                                <div className="text-sm sm:text-base lg:text-lg text-gray-600 font-medium">{stat.label}</div>
                            </div>
                        ))}
                    </div>
                </section>

                {/* About Section */}
                <section id="about" className="container mx-auto px-4 sm:px-8 lg:px-14 relative py-12 sm:py-16 lg:py-20 overflow-hidden">
                    <div className="absolute inset-0 overflow-hidden pointer-events-none opacity-10">
                        <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
                            <pattern id="dots-pattern" width="40" height="40" patternUnits="userSpaceOnUse">
                                <circle cx="2" cy="2" r="1" fill="#2563eb" />
                                <circle cx="20" cy="20" r="1" fill="#2563eb" />
                                <circle cx="38" cy="38" r="1" fill="#2563eb" />
                            </pattern>
                            <rect width="100%" height="100%" fill="url(#dots-pattern)" />
                        </svg>
                    </div>
                    <div className="container mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="grid grid-cols-1 lg:grid-cols-12 gap-6 sm:gap-8">
                            <div className="lg:col-span-8 space-y-10">
                                <h2 className="text-2xl sm:text-3xl font-bold text-blue-900 relative inline-block group">
                                    ABOUT OUR CAMPUS
                                    <span className="absolute -bottom-2 sm:-bottom-3 left-0 h-1 w-32 sm:w-40 lg:w-52 bg-yellow-500"></span>
                                </h2>
                                <div className="bg-white/80 backdrop-blur-sm shadow-xl border border-blue-200 p-6 sm:p-8">
                                    <p className="text-base text-gray-700 leading-relaxed">
                                        The Regional Campus Coimbatore of Anna University, established in 2012, offers world-class education in Engineering and Technology. Nestled in a serene environment away from the city's hustle, our campus boasts state-of-the-art infrastructure and a team of highly qualified faculty members dedicated to academic excellence.
                                    </p>
                                    <p className="text-base text-gray-700 leading-relaxed mt-4">
                                        Our university is committed to holistic education with a focus on innovation, research, and industry collaboration. We provide an engaging learning environment where students can develop their technical skills, critical thinking abilities, and leadership qualities needed to excel in their chosen fields.
                                    </p>
                                </div>
                                <div className="mobile-grid">
                                    {/* News Card */}
                                    <div className="rounded-lg bg-white/80 backdrop-blur-sm shadow-lg overflow-hidden border border-blue-200">
                                        <div className="bg-gradient-to-r from-blue-600 to-indigo-600 py-3 sm:py-4 px-4 sm:px-6 flex items-center justify-between">
                                            <h3 className="text-lg font-semibold text-white">News & Admissions</h3>
                                            <div className="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center">
                                                <svg className="w-5 h-5 text-white" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"></path></svg>
                                            </div>
                                        </div>
                                        <div className="p-8 max-h-[300px] overflow-hidden">
                                            <ul className="news-scroll w-full divide-y divide-gray-100">
                                                {news.map((item, idx) => (
                                                    <li key={idx} className="flex font-bold items-center py-3 px-6 hover:bg-blue-50 transition-colors duration-200 group cursor-pointer">
                                                        <div className="mr-3 flex-shrink-0 w-2 h-2 bg-blue-500 rounded-full group-hover:scale-150 transition-transform duration-300"></div>
                                                        <a href={item.url} target="_blank" rel="noopener noreferrer" className="transform translate-x-0 group-hover:translate-x-1 transition-transform duration-300 ease-out">{item.name}</a>
                                                    </li>
                                                ))}
                                                <li className="flex items-center py-3 px-6 text-blue-600 font-medium group cursor-pointer hover:bg-blue-50">
                                                    <Link to="/news" className="flex items-center transform group-hover:translate-x-1 transition-transform duration-300">
                                                        View All Announcements
                                                        <svg className="w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform duration-300" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M5 12h14M12 5l7 7-7 7"></path></svg>
                                                    </Link>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    {/* Events Card */}
                                    <div className="rounded-lg bg-white/80 backdrop-blur-sm shadow-lg overflow-hidden border border-blue-200">
                                        <div className="bg-gradient-to-r from-indigo-600 to-blue-600 py-3 sm:py-4 px-4 sm:px-6 flex items-center justify-between">
                                            <h3 className="text-lg font-semibold text-white">Events & Scholarships</h3>
                                            <div className="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center">
                                                <svg className="w-5 h-5 text-white" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                                            </div>
                                        </div>
                                        <div className="p-8 max-h-[300px] overflow-hidden">
                                            <ul className="events-scroll w-full divide-y divide-gray-100">
                                                {events.map((item, idx) => (
                                                    <li key={idx} className="flex font-bold items-center py-3 px-6 hover:bg-blue-50 transition-colors duration-200 group cursor-pointer">
                                                        <div className="mr-3 flex-shrink-0 w-2 h-2 bg-indigo-500 rounded-full group-hover:scale-150 transition-transform duration-300"></div>
                                                        <a href={item.url} target="_blank" rel="noopener noreferrer" className="transform translate-x-0 group-hover:translate-x-1 transition-transform duration-300 ease-out">{item.name}</a>
                                                    </li>
                                                ))}
                                                <li className="flex items-center py-3 px-6 text-indigo-600 font-medium group cursor-pointer hover:bg-blue-50">
                                                    <Link to="/events" className="flex items-center transform group-hover:translate-x-1 transition-transform duration-300">
                                                        View All Events
                                                        <svg className="w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform duration-300" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M5 12h14M12 5l7 7-7 7"></path></svg>
                                                    </Link>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {/* Quick Links */}
                            <div className="lg:col-span-4">
                                <div className="bg-gradient-to-br from-blue-900 to-indigo-900 backdrop-blur-md rounded-xl shadow-xl p-6 sticky">
                                    <h3 className="text-2xl lg:text-3xl font-bold text-white mb-4 sm:mb-6 pb-2 sm:pb-3 border-b border-white/20 flex items-center">
                                        <svg className="w-5 h-5 sm:w-6 sm:h-6 mr-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M13 5l7 7-7 7M5 5l7 7-7 7"></path></svg>
                                        Quick Links
                                    </h3>
                                    <div className="space-y-3">
                                        {[
                                            { to: '/aicte&moe', label: 'AICTE & MOE CELL', color: 'bg-blue-500/20', icon: <path d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path> },
                                            { href: 'https://drive.google.com/file/d/1z8ioKdQN0-fvahtIfneCPJI6i7j-YaFz/view', label: 'MANDATORY DISCLOSURE', color: 'bg-indigo-500/20', icon: <path d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path> },
                                            { to: '/downloads', label: 'DOWNLOADS', color: 'bg-green-500/20', icon: <><path d="M12 20h9"></path><path d="M12 4v16m0 0l-4-4m4 4l4-4"></path></> },
                                            { to: '/antiragging', label: 'ANTIRAGGING CELL', color: 'bg-red-500/20', icon: <path d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path> },
                                            { to: '/posh', label: 'POSH CELL', color: 'bg-pink-500/20', icon: <><circle cx="12" cy="12" r="10"></circle><path d="M8 15s1.5-2 4-2 4 2 4 2"></path><path d="M9 9h.01"></path><path d="M15 9h.01"></path></> },
                                        ].map((link, idx) => (
                                            <div key={idx} className="group">
                                                {link.to ? (
                                                    <Link to={link.to} className="bg-white/10 hover:bg-white/20 rounded-lg p-3 sm:p-4 flex items-center space-x-2 sm:space-x-3 transition-all duration-300 transform hover:translate-x-2 cursor-pointer">
                                                        <div className={`${link.color} p-1.5 sm:p-2 rounded-full`}>
                                                            <svg className="h-4 w-4 sm:h-5 sm:w-5 text-white" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24">{link.icon}</svg>
                                                        </div>
                                                        <h3 className="text-base lg:text-lg text-white font-medium">{link.label}</h3>
                                                    </Link>
                                                ) : (
                                                    <a href={link.href} target="_blank" rel="noopener noreferrer" className="bg-white/10 hover:bg-white/20 rounded-lg p-3 sm:p-4 flex items-center space-x-2 sm:space-x-3 transition-all duration-300 transform hover:translate-x-2 cursor-pointer">
                                                        <div className={`${link.color} p-1.5 sm:p-2 rounded-full`}>
                                                            <svg className="h-4 w-4 sm:h-5 sm:w-5 text-white" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24">{link.icon}</svg>
                                                        </div>
                                                        <h3 className="text-base lg:text-lg text-white font-medium">{link.label}</h3>
                                                    </a>
                                                )}
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                {/* Programs Offered Showcase */}
                <section id="programs" className="py-12 sm:py-16 lg:py-20 bg-gradient-to-b from-white to-blue-50/50 relative">
                    <div className="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
                        <h2 className="text-2xl sm:text-3xl lg:text-4xl font-bold text-center mb-12 sm:mb-16 text-[#21209c] relative inline-block mx-auto">
                            PROGRAMS OFFERED
                            <span className="absolute -bottom-2 sm:-bottom-3 left-1/2 transform -translate-x-1/2 h-1 w-16 sm:w-20 lg:w-24 bg-yellow-500"></span>
                        </h2>
                        <div className="mt-16 relative">
                            <div className="overflow-x-auto scrollbar-hide">
                                <div className="flex space-x-6 py-4 w-max">
                                    {[
                                        { title: 'B.E. (COMPUTER SCIENCE AND ENGINEERING)', icon: 'ðŸ’»', color: 'bg-blue-500', url: '/departments/cse' },
                                        { title: 'B.E. (ELECTRONICS AND COMMUNICATION ENGINEERING)', icon: 'ðŸ“¡', color: 'bg-green-500', url: '/departments/ece' },
                                        { title: 'B.E. (ELECTRICAL AND ELECTRONICS ENGINEERING)', icon: 'âš¡', color: 'bg-yellow-500', url: '/departments/eee' },
                                        { title: 'B.E. (MECHANICAL ENGINEERING)', icon: 'ðŸ› ï¸', color: 'bg-red-500', url: '/departments/mech' },
                                        { title: 'B.Tech. (ARTIFICIAL INTELLIGENCE AND DATA SCIENCE)', icon: 'ðŸ¤–', color: 'bg-purple-500', url: '/departments/cse' },
                                        { title: 'B.E. ELECTRONICS ENGINEERING (VLSI DESIGN AND TECHNOLOGY)', icon: 'ðŸ”²', color: 'bg-pink-500', url: '/departments/ece' },
                                        { title: 'MASTER OF BUSINESS ADMINISTRATION', icon: 'ðŸ“ˆ', color: 'bg-indigo-500', url: '/departments/mba' },
                                        { title: 'MASTER OF BUSINESS ADMINISTRATION (BUSINESS ANALYTICS)', icon: 'ðŸ“Š', color: 'bg-indigo-400', url: '/departments/mba' },
                                    ].map((prog, idx) => (
                                        <div key={idx} className="bg-white rounded-xl p-8 shadow-lg transform hover:-translate-y-2 transition-all duration-300 w-72">
                                            <div className={`p-4 rounded-full text-white inline-block mb-6 h-14 w-14 flex items-center justify-center text-2xl ${prog.color}`}>{prog.icon}</div>
                                            <h3 className="text-xl font-bold text-gray-900 mb-4">{prog.title}</h3>
                                            <p className="text-gray-600 mb-6 h-20">Explore opportunities in {prog.title.toLowerCase()}.</p>
                                            <Link to={prog.url} className="text-blue-500 font-semibold hover:text-blue-700 transition-colors">Learn More â†’</Link>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                {/* Dean's Message */}
                <section id="deans-message" className="py-12 sm:py-16 lg:py-24 bg-gradient-to-br from-blue-900 to-indigo-900 text-white relative">
                    <div className="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
                        <h2 className="text-2xl sm:text-3xl lg:text-4xl font-bold text-center mb-8 sm:mb-12">From the Dean's Desk</h2>
                        <div className="flex flex-col md:flex-row items-center bg-white bg-opacity-10 rounded-lg shadow-xl overflow-hidden backdrop-filter backdrop-blur-lg max-w-6xl mx-auto">
                            <div className="md:w-1/3 p-4 sm:p-6 md:p-8">
                                <img src="public/Dean.webp" alt="Dean's Photo" className="w-full h-auto object-cover rounded-lg" />
                            </div>
                            <div className="md:w-2/3 p-4 sm:p-6 md:p-8">
                                <h3 className="text-xl lg:text-2xl font-semibold mb-3 sm:mb-4">Dr. Saravanan Kumar</h3>
                                <p className="text-base text-indigo-200 mb-4 sm:mb-6 italic">"Empowering the next generation of innovators and leaders."</p>
                                <p className="text-base mb-3 sm:mb-4">
                                    Welcome to Anna University! Our institution stands at the forefront of technological education and research. We are dedicated to academic excellence and nurturing visionary leaders.
                                </p>
                            </div>
                        </div>
                    </div>
                </section>

                {/* Gallery Section */}
                <section id="gallery" className="py-12 sm:py-16 lg:py-20 bg-white overflow-hidden w-full relative">
                    <div className="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10 text-center">
                        <h2 className="text-2xl sm:text-3xl lg:text-4xl font-bold text-center mb-12 sm:mb-16 text-[#21209c] relative inline-block mx-auto">
                            Gallery of Memories
                            <span className="absolute -bottom-2 sm:-bottom-3 left-1/2 transform -translate-x-1/2 h-1 w-16 sm:w-20 lg:w-24 bg-yellow-500"></span>
                        </h2>
                        <div className="relative flex items-center justify-center">
                            <button onClick={prevImage} className="absolute left-4 md:left-8 top-1/2 transform -translate-y-1/2 bg-[#21209c]/80 text-white p-3 rounded-full z-30 shadow-lg">
                                <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M15 19l-7-7 7-7" /></svg>
                            </button>
                            <div className="w-full md:w-3/4 lg:w-3/5" onTouchStart={handleTouchStart} onTouchEnd={handleTouchEnd}>
                                <div className="flex transition-transform duration-700 ease-in-out" style={{ transform: `translateX(-${currentImageIndex * 100}%)` }}>
                                    {galleryImages.map((image, idx) => (
                                        <div key={idx} className="flex-shrink-0 w-full px-4">
                                            <div className="relative group overflow-hidden rounded-xl shadow-2xl">
                                                <img src={image.src} alt={image.alt} className="w-full h-64 md:h-96 object-cover transition-transform duration-700 group-hover:scale-105" />
                                                <div className="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent flex items-end p-6">
                                                    <p className="text-white text-lg md:text-xl">{image.description}</p>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                            <button onClick={nextImage} className="absolute right-4 md:right-8 top-1/2 transform -translate-y-1/2 bg-[#21209c]/80 text-white p-3 rounded-full z-30 shadow-lg">
                                <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M9 5l7 7-7 7" /></svg>
                            </button>
                        </div>
                        <div className="flex justify-center mt-8 space-x-2">
                            {galleryImages.map((_, idx) => (
                                <button key={idx} onClick={() => goToImage(idx)} className={`h-1 w-4 md:w-8 rounded-full transition-colors ${idx === currentImageIndex ? 'bg-indigo-600' : 'bg-indigo-300'}`}></button>
                            ))}
                        </div>
                    </div>
                </section>

                {/* Alumni Testimonials */}
                <section id="alumni" className="py-12 sm:py-16 lg:py-24 bg-gray-50 relative">
                    <div className="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10 text-center">
                        <h2 className="text-2xl sm:text-3xl lg:text-4xl font-bold text-center mb-12 sm:mb-16 text-[#21209c] relative inline-block mx-auto">
                            ALUMNI SPEAK
                            <span className="absolute -bottom-2 sm:-bottom-3 left-1/2 transform -translate-x-1/2 h-1 w-16 sm:w-20 lg:w-24 bg-yellow-500"></span>
                        </h2>
                        <div className="relative">
                            <div className="overflow-hidden">
                                <div className="flex transition-transform duration-700 ease-in-out" style={{ transform: `translateX(-${currentIndex * 100}%)` }}>
                                    {testimonials.map((testimonial, idx) => (
                                        <div key={idx} className="flex-shrink-0 w-full">
                                            <div className="bg-white rounded-xl shadow-xl overflow-hidden max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-3 text-left">
                                                <div className="md:col-span-1 bg-gradient-to-br from-blue-600 to-indigo-900 p-8 flex flex-col items-center justify-center">
                                                    <img src={testimonial.image} alt={testimonial.name} className="w-32 h-32 rounded-full border-4 border-white mb-4 object-cover" />
                                                    <h3 className="text-lg font-bold text-white">{testimonial.name}</h3>
                                                    <p className="text-blue-200">{testimonial.branch} | {testimonial.batch}</p>
                                                    <p className="text-white font-semibold mt-2 text-center text-sm">Placed in <span className="text-yellow-300">{testimonial.company}</span></p>
                                                </div>
                                                <div className="md:col-span-2 p-8 flex flex-col justify-center">
                                                    <svg className="w-12 h-12 text-blue-100 mb-4" fill="currentColor" viewBox="0 0 24 24"><path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z" /></svg>
                                                    <p className="text-gray-700 leading-relaxed mb-6">{testimonial.message}</p>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                            <button onClick={prevSlide} className="absolute left-2 sm:left-4 top-1/2 -translate-y-1/2 bg-[#21209c]/80 text-white p-3 rounded-full shadow-lg"><svg className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M15 19l-7-7 7-7" /></svg></button>
                            <button onClick={nextSlide} className="absolute right-2 sm:right-4 top-1/2 -translate-y-1/2 bg-[#21209c]/80 text-white p-3 rounded-full shadow-lg"><svg className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M9 5l7 7-7 7" /></svg></button>
                        </div>
                    </div>
                </section>

                {/* Support Chatbot */}
                <button onClick={() => document.getElementById('my_modal_5').showModal()} className="fixed bottom-4 right-4 bg-gradient-to-r from-[rgb(115,63,63)] to-[rgb(115,25,25)] text-white p-4 rounded-full shadow-lg z-50">ðŸ’¬ Help Desk</button>
                <dialog id="my_modal_5" className="modal modal-bottom sm:modal-middle">
                    <div className="modal-box p-0 w-80 shadow-lg rounded-lg fixed bottom-20 right-4 md:right-10">
                        <div className="flex justify-between items-center bg-blue-600 p-4 text-white rounded-t-lg">
                            <h2 className="text-lg font-semibold">Support Chatbot</h2>
                            <form method="dialog"><button className="btn btn-sm btn-circle btn-ghost">âœ•</button></form>
                        </div>
                        <div className="p-4 h-64 overflow-y-auto bg-gray-50 flex flex-col" ref={chatContainerRef}>
                            {chatLog.map((chat, idx) => (
                                <div key={idx} className={`mb-4 max-w-[80%] p-3 rounded-xl shadow-sm text-sm ${chat.sender === 'user' ? 'self-end bg-blue-100 text-blue-900 rounded-br-none' : 'self-start bg-white text-gray-800 rounded-bl-none border border-gray-100'}`}>
                                    {chat.message}
                                </div>
                            ))}
                            {loading && <div className="loading loading-dots loading-sm self-start ml-2"></div>}
                        </div>
                        <div className="p-4 bg-gray-100 rounded-b-lg border-t">
                            <input value={userMessage} onChange={(e) => setUserMessage(e.target.value)} onKeyUp={(e) => e.key === 'Enter' && sendMessage()} type="text" className="input input-bordered w-full h-10 text-sm" placeholder="Type your message..." />
                            <button onClick={sendMessage} className="btn btn-primary btn-sm w-full mt-2 h-10">Send</button>
                        </div>
                    </div>
                </dialog>
            </main>
        </div>
    );
};

export default HomeView;
